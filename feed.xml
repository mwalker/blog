<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.4">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2024-10-01T21:55:03+00:00</updated><id>/feed.xml</id><title type="html">Further Notes…</title><entry><title type="html">mlx-vlm uncaught exception attempting to allocate</title><link href="/2024/10/01/mlx-vlm-uncaught-exception-attempting-to-allocate.html" rel="alternate" type="text/html" title="mlx-vlm uncaught exception attempting to allocate" /><published>2024-10-01T00:00:00+00:00</published><updated>2024-10-01T00:00:00+00:00</updated><id>/2024/10/01/mlx-vlm-uncaught-exception-attempting-to-allocate</id><content type="html" xml:base="/2024/10/01/mlx-vlm-uncaught-exception-attempting-to-allocate.html"><![CDATA[<p>A <a href="https://simonwillison.net/2024/Sep/29/mlx-vlm/">followup post from Simon Willison on Qwen2VL</a> and using it with <a href="https://github.com/Blaizzy/mlx-vlm">mlx-vlm</a> to run locally on Apple Silicon got me intrigued, as though I’ve been experimenting fairly successfully on Hugging Face I always seem to run out of quota at an inopportune time.</p>

<p>Using uv as described got it running fairly easily, just a bit of a wait for the weights to download. But every time I ran it I would get an error like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>libc++abi: terminating due to uncaught exception of type std::runtime_error: Attempting to allocate 96905199616 bytes which is greater than the maximum allowed buffer size of 17179869184 bytes.
</code></pre></div></div>

<p>After a fruitless process of quitting all other apps, disconnecting the external monitor, upgrading macOS, homebrew, and replacing homebrew python with uv python I eventually twigged with the help of <a href="https://github.com/ml-explore/mlx-swift-examples/issues/106">this thread</a> that the problem might be with the size of the image I was using for testing, this is probably obvious, and should be obvious to me in light of my previous experiments in generating images. The cutoff for me on a 32GB M1 Max MacBook Pro is somewhere a little north of 2000 pixels on the long side of the image.</p>

<p>Now I’m waiting for the weights of Qwen2-VL-7B-Instruct to download to see if that will run, and if so what the limits on image size are, and what the speed is like. Hopefully I will then have something I can run on demand.</p>

<p>Update: Qwen2-VL-7B-Instruct does run, but it’s fairly glacial at around 1t/s for the prompt and 2.5t/s for generation. That’s somewhere around an order of magnitude slower than using Hugging Face spaces for me. It seems to top out at using around 26GB of RAM with a 2000 pixel image, so a 24GB Mac mini is not going to be enough for regular use.</p>

<p>With a 1000 pixel image those numbers become 20.5GB, around 5t/s for the prompt and 4t/s for the generation.</p>

<p>Thinking about a dedicated machine to run this on I came across this <a href="https://llm-calc.rayfernando.ai">nifty calculator</a> and some <a href="https://github.com/XiongjieDai/GPU-Benchmarks-on-LLM-Inference">interesting benchmarks</a>. It seems Apple Silicon is always on the slower end, and the price jumps significantly once you want to get past 24GB of RAM, so maybe it’s a ot yet.</p>]]></content><author><name></name></author><category term="ai" /><category term="llms" /><category term="vision llms" /><category term="Qwen" /><category term="handwritten text recognition" /><category term="digitisation" /><category term="mlx" /><category term="mlx-vlm" /><summary type="html"><![CDATA[A followup post from Simon Willison on Qwen2VL and using it with mlx-vlm to run locally on Apple Silicon got me intrigued, as though I’ve been experimenting fairly successfully on Hugging Face I always seem to run out of quota at an inopportune time.]]></summary></entry><entry><title type="html">Auth0 BrandingTheme in pulumi</title><link href="/2024/09/26/auth0-brandingtheme-in-pulumi.html" rel="alternate" type="text/html" title="Auth0 BrandingTheme in pulumi" /><published>2024-09-26T00:00:00+00:00</published><updated>2024-09-26T00:00:00+00:00</updated><id>/2024/09/26/auth0-brandingtheme-in-pulumi</id><content type="html" xml:base="/2024/09/26/auth0-brandingtheme-in-pulumi.html"><![CDATA[<p>Updating to Universal Login on Auth0 and we need to access what pulumi calls the <code class="language-plaintext highlighter-rouge">BrandingTheme</code>, accessible in the console from “Branding &gt; Universal Login &gt; Customization Options”. To import to your stack pulumi requires an id, and it turns out that id is <code class="language-plaintext highlighter-rouge">default</code>. Thanks to <a href="https://community.auth0.com/t/branding-theme-configuration-via-terraform/102993">karolis.mazukna on the Auth0 Community</a>.</p>]]></content><author><name></name></author><category term="infrastructure as code" /><category term="pulumi" /><category term="auth0" /><summary type="html"><![CDATA[Updating to Universal Login on Auth0 and we need to access what pulumi calls the BrandingTheme, accessible in the console from “Branding &gt; Universal Login &gt; Customization Options”. To import to your stack pulumi requires an id, and it turns out that id is default. Thanks to karolis.mazukna on the Auth0 Community.]]></summary></entry><entry><title type="html">Storage: Archival Storage Practice in North America and the UK</title><link href="/2024/09/24/storage-archival-storage-practice-in-north-america-and-the-uk.html" rel="alternate" type="text/html" title="Storage: Archival Storage Practice in North America and the UK" /><published>2024-09-24T00:00:00+00:00</published><updated>2024-09-24T00:00:00+00:00</updated><id>/2024/09/24/storage-archival-storage-practice-in-north-america-and-the-uk</id><content type="html" xml:base="/2024/09/24/storage-archival-storage-practice-in-north-america-and-the-uk.html"><![CDATA[<p>An interesting article about <a href="https://peelarchivesblog.com/2024/09/10/how-do-archivists-package-things-the-battle-of-the-boxes/">archival storage practice in North America and the UK</a>, interesting to see that as in many things Australian practice (at least that I have experienced) is a mash-up of both.</p>]]></content><author><name></name></author><category term="storage" /><category term="archives" /><summary type="html"><![CDATA[An interesting article about archival storage practice in North America and the UK, interesting to see that as in many things Australian practice (at least that I have experienced) is a mash-up of both.]]></summary></entry><entry><title type="html">YouTube on Apple TV weirdness: dark bottom right corner</title><link href="/2024/09/21/youtube-on-apple-tv-weirdness-dark-bottom-right-corner.html" rel="alternate" type="text/html" title="YouTube on Apple TV weirdness: dark bottom right corner" /><published>2024-09-21T00:00:00+00:00</published><updated>2024-09-21T00:00:00+00:00</updated><id>/2024/09/21/youtube-on-apple-tv-weirdness-dark-bottom-right-corner</id><content type="html" xml:base="/2024/09/21/youtube-on-apple-tv-weirdness-dark-bottom-right-corner.html"><![CDATA[<p>Just a quick note in case anyone finds this on the internet (and for me in the future), since I haven’t been able to find anything similar in my searching. In the last few days we thought the old TV was dying because the bottom right corner was darker with a gradient extending in an arc from just over halfway along the bottom edge to just over halway along the right hand edge. Eventually I worked out it was just in the YouTube app, and then if I restarted the YouTube app it went away, until near the end of the first video when it re-appeared, and stayed for every subsequent video. I’ve tried a number of different things, updating the app and tvOS, changing a bunch of settings on the Apple TV, replacing cables, and swapping the TV, nothing has helped. Then I decided to log out of YouTube Premium, and bingo all is OK (except for the ads!). Log back in and it is back, disabling auto-play also fixes it, but we use it a lot for background so that is not really sustainable either.</p>

<p>Eventually I realised thet I had a second profile on my account, switching to that and the issue is gone, I’m a bit over fiddling with it so unless it recurs I will probably leave it there.</p>]]></content><author><name></name></author><category term="YouTube" /><category term="Apple TV" /><category term="troubleshooting" /><summary type="html"><![CDATA[Just a quick note in case anyone finds this on the internet (and for me in the future), since I haven’t been able to find anything similar in my searching. In the last few days we thought the old TV was dying because the bottom right corner was darker with a gradient extending in an arc from just over halfway along the bottom edge to just over halway along the right hand edge. Eventually I worked out it was just in the YouTube app, and then if I restarted the YouTube app it went away, until near the end of the first video when it re-appeared, and stayed for every subsequent video. I’ve tried a number of different things, updating the app and tvOS, changing a bunch of settings on the Apple TV, replacing cables, and swapping the TV, nothing has helped. Then I decided to log out of YouTube Premium, and bingo all is OK (except for the ads!). Log back in and it is back, disabling auto-play also fixes it, but we use it a lot for background so that is not really sustainable either.]]></summary></entry><entry><title type="html">Transitioning from prose.sh to jekyll</title><link href="/2024/09/13/transitioning-from-prose-sh-to-jekyll.html" rel="alternate" type="text/html" title="Transitioning from prose.sh to jekyll" /><published>2024-09-13T00:00:00+00:00</published><updated>2024-09-13T00:00:00+00:00</updated><id>/2024/09/13/transitioning-from-prose-sh-to-jekyll</id><content type="html" xml:base="/2024/09/13/transitioning-from-prose-sh-to-jekyll.html"><![CDATA[<p>While I liked <a href="https://prose.sh">prose.sh</a> as a blog provider I have found that the workflow doesn’t quite suit me. I would prefer something less magical and a bit more <a href="https://boringtechnology.club">boring</a>. As the basis of <a href="https://pages.github.com">Github Pages</a> and written in ruby, a language I keep coming back to, I decided that <a href="https://jekyllrb.com">jekyll</a> qualified for me.</p>

<p>There’s no way to extract the raw blog posts from prose.sh without asking them, thanksully jekyll has a fairly well developed import plugin, and I was able to crib from the existing one for tumblr to create a simple one for prose.sh posts retrieved by spidering the site. I could use the “permalink” configuaration item in the frontmatter in order to keep the old URL structure for each post.</p>

<p>Setting up jekyll it seems like the github-pages version is a bit behind the latest, and I wasn’t sure I wanted to get too locked into github either, so I went with the current latest, jekyll 4.3.3. I struggled to find a theme that I liked so I ended up doing my own, heavily cribbed from <a href="https://riggraz.dev/no-style-please/">no style please</a> and <a href="https://github.com/kevquirk/jekyll-simplecss-template">Jekyll Simple.css Template</a>.</p>

<p>I also made use of the <a href="https://github.com/sverrirs/jekyll-paginate-v2">Jekyll::Paginate V2</a> plugin in order to paginate the posts so the front page doesn’t get unwieldy, and then discovered with its <a href="https://github.com/sverrirs/jekyll-paginate-v2/blob/master/README-AUTOPAGES.md">AutoPages</a> feature it can also generate pages for each tag (and potentially category). To get them to sort nicely I had to install the <a href="https://github.com/mslinn/jekyll_sort_natural">jekyll_sort_natural</a> plugin, because the liquid sort_natural doesn’t work for reasons I can’t quite fathom.</p>

<p>Getting it actually deployed on guthub was a bit of a pain, but after a bunch of clicking around it seems to be working. It’s mostly a combination of <a href="https://github.com/limjh16/jekyll-action-ts">jekyll-action-ts</a> and the <a href="https://github.com/peaceiris/actions-gh-pages">github pages action</a> combined in a github action job.</p>]]></content><author><name></name></author><category term="prose.sh" /><category term="jekyll" /><category term="blog software" /><category term="tools" /><category term="github" /><summary type="html"><![CDATA[While I liked prose.sh as a blog provider I have found that the workflow doesn’t quite suit me. I would prefer something less magical and a bit more boring. As the basis of Github Pages and written in ruby, a language I keep coming back to, I decided that jekyll qualified for me.]]></summary></entry><entry><title type="html">Qwen2-VL Handwritten Text Recognition</title><link href="/2024/09/06/qwen2-vl-handwritten-text-recognition.html" rel="alternate" type="text/html" title="Qwen2-VL Handwritten Text Recognition" /><published>2024-09-06T00:00:00+00:00</published><updated>2024-09-06T00:00:00+00:00</updated><id>/2024/09/06/qwen2-vl-handwritten-text-recognition</id><content type="html" xml:base="/2024/09/06/qwen2-vl-handwritten-text-recognition.html"><![CDATA[<p><a href="https://simonwillison.net/2024/Sep/4/qwen2-vl/">Simon Willison’s post on his experience with Qwen2-VL</a> is really promising. I’m glad I have held off with doing much more than simple experiments so far in the hope that something this accurate would come along. If the results shown here can be generalised across the corpus that I am interested in then I think it promises great things.</p>]]></content><author><name></name></author><category term="ai" /><category term="llms" /><category term="vision llms" /><category term="Qwen" /><category term="handwritten text recognition" /><category term="digitisation" /><summary type="html"><![CDATA[Simon Willison’s post on his experience with Qwen2-VL is really promising. I’m glad I have held off with doing much more than simple experiments so far in the hope that something this accurate would come along. If the results shown here can be generalised across the corpus that I am interested in then I think it promises great things.]]></summary></entry><entry><title type="html">Storage: Plans and Posters</title><link href="/2024/03/14/storage-plans-and-posters.html" rel="alternate" type="text/html" title="Storage: Plans and Posters" /><published>2024-03-14T00:00:00+00:00</published><updated>2024-03-14T00:00:00+00:00</updated><id>/2024/03/14/storage-plans-and-posters</id><content type="html" xml:base="/2024/03/14/storage-plans-and-posters.html"><![CDATA[<p>I have a collected a few of these over the years. Small ones I store in boxes, a bit larger ones in a portfolio case.  The larger ones I have however are generally all rolled. I’ve learned from PROV how bad it is to store these really tightly, and the way I was doing it vertically in an open topped tea chest box was never a good system and was really untenable when moving was on the cards.</p>

<p>The best solution I found were the archival cardboard <a href="https://www.archivalsurvival.com.au/search?q=roll+plan">roll plan boxes from Archival Survival</a>. These are tough and look after the contents well. They feel like they need three hands to put together but you get the knack after a while. I think you could stack these five or six high with no issues.</p>

<p>For things that are already flat I have found the <a href="https://www.eckersleys.com.au/mindrex-coreflute-black-portfolios">corflute portfolios available from Eckersley’s</a> to be the best solution, but these top out at B1 size (actually now they seem to be only up to A1). I’d love to find an A0 or even B0 equivalent. I did have a set of old steel plan drawers but these were heavy and awkward. The other thing to investigate is bags and hanging storage, but I haven’t had enough of these sort of plans to justify that yet.</p>

<p>This is the third in a series on the <a href="/tag/storage/">storage</a> solutions that work for me.</p>]]></content><author><name></name></author><category term="storage" /><summary type="html"><![CDATA[I have a collected a few of these over the years. Small ones I store in boxes, a bit larger ones in a portfolio case. The larger ones I have however are generally all rolled. I’ve learned from PROV how bad it is to store these really tightly, and the way I was doing it vertically in an open topped tea chest box was never a good system and was really untenable when moving was on the cards.]]></summary></entry><entry><title type="html">USB to SCSI: RXB2-001-1 / USB-DFU1</title><link href="/usb-scsi-rxb2-001-1-usb-dfu-1" rel="alternate" type="text/html" title="USB to SCSI: RXB2-001-1 / USB-DFU1" /><published>2023-10-11T00:00:00+00:00</published><updated>2023-10-11T00:00:00+00:00</updated><id>/usb-scsi-rxb2-001-1-usb-dfu-1</id><content type="html" xml:base="/usb-scsi-rxb2-001-1-usb-dfu-1"><![CDATA[<p>More digging around on <a href="https://auctions.yahoo.co.jp/">Yahoo Japan Auctions</a> turned a board with the ID <em>RXB2-001-1</em> that looked like it was a USB to SCSI adapter. As it was reasonably cheap I thought I would take a punt. When it arrived here it was fairly clear that is what it must be as one of the chips was stamped “adaptec”.</p>

<p>I wanted to test it out with some original old SCSI drives from some old Macs but due to a number of issues I don’t have them available yet, in anticipation of something in that direction however I have also purchased a <a href="https://zuluscsi.com">ZuluSCSI</a> device, so I thought this thing may be a good thing to try.</p>

<p>Plugging it in initially to a computer using the USB B port on the board and nothing showed up, it also has a barrel socket, so I figured it must need that for power. On the board I purchased “5V” was written in texta on the back, and with both USB and SCSI it seemed very likely that this was the required voltage. There also didn’t look to be anything on the board to change the voltage, and the built in molex connector only had the 5V wire connected. It was still an open question as to the polarity of the barrel connector, but some quick work with the trusty Uni-T multimeter buzzing out ground from the Molex to the outside of the barrel left me reassured it was centre positive like most I come across.</p>

<p>Once powered up using the 5V DC input a device called <em>USB-DFU1</em> appeared on the USB bus, looking promising. The vendor ID is 0x04c8 which corresponds to Konica.</p>

<p>Now we disconnect everything and connect up the ZuluSCSI. Powering on again and we get some flashes from the LED connected to the board but not much else. I’d realise later that the LED on the ZuluSCSI should also be flashing when it is powered. At first I fiddled with the termination, and trying the debug DIP switch on the ZuluSCSI, but getting no debug file. Do some more reading, seems the board is not supplying termination power, so we need to power the ZuluSCSI separately, which we can do through it’s USB port.</p>

<p>Connect all that up and power up again, flashes from the ZuluSCSI LED this time, and lo and behold the HFS volume I have set up on the ZuluSCSI is mounted on my Snow Leopard MacBook Pro, success.</p>

<p>Because the board has a couple of fly leads for connection to a power switch, and I don’t have any blades avaialable for the spade connectors I connected by using the multimeter in current mode. Without load it draws about 150-160 mA. As mentioned it can also power the drive but I did not test that as I was using the ZuluSCSI.</p>

<p>Doing research I found a couple of references on the web to this board in Japanese from <a href="http://nana1451.web.fc2.com/omd.html">nana1451</a> and <a href="http://weblabo.griffonworks.net/dorlog/2nddorcom/pcat/26077.html">ひばり さん</a>, it seems likely it was originally incorporated in a product for a USB connected MO (Magneto-Optical) drive, which were very popular in Japan. Most USB MO drives I have seen come with an external adapter in a cable, usually based on the Shuttle Technologies chip.</p>]]></content><author><name></name></author><category term="SCSI" /><category term="USB" /><summary type="html"><![CDATA[More digging around on Yahoo Japan Auctions turned a board with the ID RXB2-001-1 that looked like it was a USB to SCSI adapter. As it was reasonably cheap I thought I would take a punt. When it arrived here it was fairly clear that is what it must be as one of the chips was stamped “adaptec”.]]></summary></entry><entry><title type="html">My Favourite Face Mask for Travelling</title><link href="/my-favourite-face-mask-for-travelling" rel="alternate" type="text/html" title="My Favourite Face Mask for Travelling" /><published>2023-10-01T00:00:00+00:00</published><updated>2023-10-01T00:00:00+00:00</updated><id>/my-favourite-face-mask-for-travelling</id><content type="html" xml:base="/my-favourite-face-mask-for-travelling"><![CDATA[<p>Another international trip coming up and it is time to stock up on face masks. In order to deal with wearing a mask for more than an hour or so I have found a head loop to be much more comfortable than ear loops. Before my last trip I tried a bunch of different brands but the one I found the most comfortable was the <a href="https://softmed.com.au/product/n95-flat-folded-particular-respirator-and-surgical-mask-on-comfort-headloop/">Softmed SM-SR202</a> N95 with headloops (also available in a version with ear loops as well). This was the one I wore almost exclusively during that trip.</p>

<p>Previously I have bought these from <a href="https://www.platinumhealthsupply.com.au/products/flat-fold-n95-p2-respirator-head-strap-australian-made">Platinum Health Supply</a> but this time I made an order direct with <a href="https://softmed.com.au/">Softmed</a>.</p>]]></content><author><name></name></author><category term="reviews" /><summary type="html"><![CDATA[Another international trip coming up and it is time to stock up on face masks. In order to deal with wearing a mask for more than an hour or so I have found a head loop to be much more comfortable than ear loops. Before my last trip I tried a bunch of different brands but the one I found the most comfortable was the Softmed SM-SR202 N95 with headloops (also available in a version with ear loops as well). This was the one I wore almost exclusively during that trip.]]></summary></entry><entry><title type="html">Opening a Cooler Master X Craft External Hard Drive Case</title><link href="/opening-a-cooler-master-x-craft-external-hard-drive-case" rel="alternate" type="text/html" title="Opening a Cooler Master X Craft External Hard Drive Case" /><published>2023-09-23T00:00:00+00:00</published><updated>2023-09-23T00:00:00+00:00</updated><id>/opening-a-cooler-master-x-craft-external-hard-drive-case</id><content type="html" xml:base="/opening-a-cooler-master-x-craft-external-hard-drive-case"><![CDATA[<p>Recently pulled this out of the collection of stored disks but was struggling to get the case to open. The Internet Archive has a <a href="https://archive.org/details/manualzilla-id-7237288/page/n5/mode/2up">manual for a Cooler Master X Craft 350 Lite</a> which while not the exact model (mine has USB and FireWire. The opening instructions are on page 1-05 (for English) and this method did not work. The top aluminium extrusion would not budge towards the rear of the device.</p>

<p>After a few goes, putting it down to return to a few times and re-reading the manual the clue was in the re-assembly instructions on <a href="https://archive.org/details/manualzilla-id-7237288/page/n7/mode/2up">page 1-07</a>, we actually need to move the just the rear panel with the ports outward from the rear of the device. It also helps to be pushing down slightly on the top of the extrusion as the disk is spring mounted pushing upwards on to that extrusion. Once the rear panel moves out a bit the extrusion will start to rise a little on the springs. To remove it entirely you may need to peel it off the top of the disk because it is fitted with thermal pad which on mine is a bit tacky and stuck to the disk. This would be why the whole thing would not move backwards, because we were also trying to move the disk which has the sprung pins from the chassis in it’s four bottom mounting points and is therefore secure from fore-aft movement.</p>

<p><a href="https://goughlui.com/2017/06/24/tech-flashback-external-ide-hdd-usb-2-0-vs-firewire-400-ieee-1394/">Gough Lui did a nice teardown of a device similar to mine.</a></p>]]></content><author><name></name></author><category term="retro-computing" /><category term="USB" /><category term="FireWire" /><category term="IDE" /><summary type="html"><![CDATA[Recently pulled this out of the collection of stored disks but was struggling to get the case to open. The Internet Archive has a manual for a Cooler Master X Craft 350 Lite which while not the exact model (mine has USB and FireWire. The opening instructions are on page 1-05 (for English) and this method did not work. The top aluminium extrusion would not budge towards the rear of the device.]]></summary></entry></feed>